{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import ReactPlayer from'react-player';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const VideoPlayer=_ref=>{let{videoUrl,controls=true,onReady,onError}=_ref;const playerRef=useRef(null);const[playing,setPlaying]=useState(false);const[buffered,setBuffered]=useState(0);const[duration,setDuration]=useState(0);const[error,setError]=useState(null);useEffect(()=>{if(playerRef.current&&onReady){onReady(playerRef.current);}},[playerRef,onReady]);const handlePlayPause=()=>{if(playing){playerRef.current.pause();}else{playerRef.current.play();}setPlaying(!playing);};const handleProgress=progress=>{setBuffered(progress.playedSeconds);setDuration(progress.loadedSeconds);};const handleError=err=>{setError(err);console.error('Video error:',err);};return/*#__PURE__*/_jsxs(\"div\",{className:\"video-player\",children:[error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error.message}),/*#__PURE__*/_jsx(ReactPlayer,{ref:playerRef,url:videoUrl,playing:playing,onProgress:handleProgress,onError:handleError,controls:controls}),controls&&/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePlayPause,children:playing?'Pause':'Play'}),/*#__PURE__*/_jsx(\"progress\",{max:duration,value:buffered})]})]});};export default VideoPlayer;","map":{"version":3,"names":["React","useState","useRef","useEffect","ReactPlayer","jsx","_jsx","jsxs","_jsxs","VideoPlayer","_ref","videoUrl","controls","onReady","onError","playerRef","playing","setPlaying","buffered","setBuffered","duration","setDuration","error","setError","current","handlePlayPause","pause","play","handleProgress","progress","playedSeconds","loadedSeconds","handleError","err","console","className","children","message","ref","url","onProgress","onClick","max","value"],"sources":["/workspace/cloud-storage-web-ui/src/utils/videoPlayer.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport ReactPlayer from 'react-player';\n\nconst VideoPlayer = ({ videoUrl, controls = true, onReady, onError }) => {\n  const playerRef = useRef(null);\n  const [playing, setPlaying] = useState(false);\n  const [buffered, setBuffered] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (playerRef.current && onReady) {\n      onReady(playerRef.current);\n    }\n  }, [playerRef, onReady]);\n\n  const handlePlayPause = () => {\n    if (playing) {\n      playerRef.current.pause();\n    } else {\n      playerRef.current.play();\n    }\n    setPlaying(!playing);\n  };\n\n  const handleProgress = (progress) => {\n    setBuffered(progress.playedSeconds);\n    setDuration(progress.loadedSeconds);\n  };\n\n  const handleError = (err) => {\n    setError(err);\n    console.error('Video error:', err);\n  };\n\n  return (\n    <div className=\"video-player\">\n      {error && <p className=\"error\">{error.message}</p>}\n      <ReactPlayer\n        ref={playerRef}\n        url={videoUrl}\n        playing={playing}\n        onProgress={handleProgress}\n        onError={handleError}\n        controls={controls}\n      />\n      {controls && (\n        <div className=\"controls\">\n          <button onClick={handlePlayPause}>{playing ? 'Pause' : 'Play'}</button>\n          <progress max={duration} value={buffered} />\n          {/* Add more controls as needed */}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default VideoPlayer;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAC1D,MAAO,CAAAC,WAAW,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAqD,IAApD,CAAEC,QAAQ,CAAEC,QAAQ,CAAG,IAAI,CAAEC,OAAO,CAAEC,OAAQ,CAAC,CAAAJ,IAAA,CAClE,KAAM,CAAAK,SAAS,CAAGb,MAAM,CAAC,IAAI,CAAC,CAC9B,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACmB,QAAQ,CAAEC,WAAW,CAAC,CAAGpB,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACqB,KAAK,CAAEC,QAAQ,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAExCE,SAAS,CAAC,IAAM,CACd,GAAIY,SAAS,CAACS,OAAO,EAAIX,OAAO,CAAE,CAChCA,OAAO,CAACE,SAAS,CAACS,OAAO,CAAC,CAC5B,CACF,CAAC,CAAE,CAACT,SAAS,CAAEF,OAAO,CAAC,CAAC,CAExB,KAAM,CAAAY,eAAe,CAAGA,CAAA,GAAM,CAC5B,GAAIT,OAAO,CAAE,CACXD,SAAS,CAACS,OAAO,CAACE,KAAK,CAAC,CAAC,CAC3B,CAAC,IAAM,CACLX,SAAS,CAACS,OAAO,CAACG,IAAI,CAAC,CAAC,CAC1B,CACAV,UAAU,CAAC,CAACD,OAAO,CAAC,CACtB,CAAC,CAED,KAAM,CAAAY,cAAc,CAAIC,QAAQ,EAAK,CACnCV,WAAW,CAACU,QAAQ,CAACC,aAAa,CAAC,CACnCT,WAAW,CAACQ,QAAQ,CAACE,aAAa,CAAC,CACrC,CAAC,CAED,KAAM,CAAAC,WAAW,CAAIC,GAAG,EAAK,CAC3BV,QAAQ,CAACU,GAAG,CAAC,CACbC,OAAO,CAACZ,KAAK,CAAC,cAAc,CAAEW,GAAG,CAAC,CACpC,CAAC,CAED,mBACEzB,KAAA,QAAK2B,SAAS,CAAC,cAAc,CAAAC,QAAA,EAC1Bd,KAAK,eAAIhB,IAAA,MAAG6B,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEd,KAAK,CAACe,OAAO,CAAI,CAAC,cAClD/B,IAAA,CAACF,WAAW,EACVkC,GAAG,CAAEvB,SAAU,CACfwB,GAAG,CAAE5B,QAAS,CACdK,OAAO,CAAEA,OAAQ,CACjBwB,UAAU,CAAEZ,cAAe,CAC3Bd,OAAO,CAAEkB,WAAY,CACrBpB,QAAQ,CAAEA,QAAS,CACpB,CAAC,CACDA,QAAQ,eACPJ,KAAA,QAAK2B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB9B,IAAA,WAAQmC,OAAO,CAAEhB,eAAgB,CAAAW,QAAA,CAAEpB,OAAO,CAAG,OAAO,CAAG,MAAM,CAAS,CAAC,cACvEV,IAAA,aAAUoC,GAAG,CAAEtB,QAAS,CAACuB,KAAK,CAAEzB,QAAS,CAAE,CAAC,EAEzC,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAT,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}