{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Grid,Skeleton}from'antd';// Example UI components\nimport{deleteFile,downloadFile,getCameraList,getPresignedUrl,getVideoList,listFiles,uploadFile}from'../utils/cloudStorage';// Assuming imported functions\n// Assuming imported functions\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CameraList=_ref=>{let{onCameraSelect}=_ref;const[cameras,setCameras]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{async function fetchCameras(){try{const fetchedCameras=await cloudStorage.getCameraList();setCameras(fetchedCameras);}catch(error){setError(error);}finally{setLoading(false);}}fetchCameras();},[]);const handleCameraClick=camera=>{onCameraSelect(camera);};return/*#__PURE__*/_jsxs(\"div\",{children:[loading&&/*#__PURE__*/_jsx(Grid.Container,{justify:\"center\",children:/*#__PURE__*/_jsx(Grid.Row,{children:new Array(4).fill(null).map((_,index)=>/*#__PURE__*/_jsx(Grid.Col,{span:4,children:/*#__PURE__*/_jsx(Skeleton,{avatar:true})},index))})}),error&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Error fetching cameras: \",error.message]}),!loading&&!error&&/*#__PURE__*/_jsx(Grid.Container,{children:cameras.map(camera=>/*#__PURE__*/_jsx(Grid.Item,{children:/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleCameraClick(camera),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"h3\",{children:camera.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",camera.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",camera.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Last Recording: \",camera.lastRecordingTime]})]})},camera.id))})]});};export default CameraList;","map":{"version":3,"names":["React","useState","useEffect","Grid","Skeleton","deleteFile","downloadFile","getCameraList","getPresignedUrl","getVideoList","listFiles","uploadFile","jsx","_jsx","jsxs","_jsxs","CameraList","_ref","onCameraSelect","cameras","setCameras","loading","setLoading","error","setError","fetchCameras","fetchedCameras","cloudStorage","handleCameraClick","camera","children","Container","justify","Row","Array","fill","map","_","index","Col","span","avatar","message","Item","onClick","style","cursor","name","status","location","lastRecordingTime","id"],"sources":["/workspace/cloud-storage-web-ui/src/components/CameraList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Grid, Skeleton } from 'antd'; // Example UI components\nimport { deleteFile, downloadFile, getCameraList, getPresignedUrl, getVideoList, listFiles, uploadFile } from '../utils/cloudStorage'; // Assuming imported functions\n // Assuming imported functions\n\nconst CameraList = ({ onCameraSelect }) => {\n  const [cameras, setCameras] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function fetchCameras() {\n      try {\n        const fetchedCameras = await cloudStorage.getCameraList();\n        setCameras(fetchedCameras);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchCameras();\n  }, []);\n\n  const handleCameraClick = (camera) => {\n    onCameraSelect(camera);\n  };\n\n  return (\n    <div>\n      {loading && (\n        <Grid.Container justify=\"center\">\n          <Grid.Row>\n            {/* Skeleton loading placeholder */}\n            {new Array(4).fill(null).map((_, index) => (\n              <Grid.Col key={index} span={4}>\n                <Skeleton avatar />\n              </Grid.Col>\n            ))}\n          </Grid.Row>\n        </Grid.Container>\n      )}\n      {error && <p>Error fetching cameras: {error.message}</p>}\n      {!loading && !error && (\n        <Grid.Container>\n          {cameras.map((camera) => (\n            <Grid.Item key={camera.id}>\n              <div onClick={() => handleCameraClick(camera)} style={{ cursor: 'pointer' }}>\n                <h3>{camera.name}</h3>\n                <p>Status: {camera.status}</p>\n                <p>Location: {camera.location}</p>\n                <p>Last Recording: {camera.lastRecordingTime}</p>\n              </div>\n            </Grid.Item>\n          ))}\n        </Grid.Container>\n      )}\n    </div>\n  );\n};\n\nexport default CameraList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}