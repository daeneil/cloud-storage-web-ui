{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Timeline}from'antd';import{Button}from'antd';import{deleteFile,downloadFile,getCameraList,getPresignedUrl,getVideoList,listFiles,uploadFile}from'../utils/cloudStorage';// Assuming imported functions\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EventTimeline=_ref=>{let{onEventSelect,initialTimeRange}=_ref;const[events,setEvents]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[filters,setFilters]=useState({timeRange:initialTimeRange,camera:null,eventType:null});useEffect(()=>{async function fetchEvents(){try{const fetchedEvents=await cloudStorage.getEvents(filters);setEvents(fetchedEvents);}catch(error){setError(error);}finally{setLoading(false);}}fetchEvents();},[filters]);const handleEventClick=event=>{onEventSelect(event);};// ... filtering logic and UI elements ...\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading events...\"}),error&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Error fetching events: \",error.message]}),!loading&&!error&&/*#__PURE__*/_jsx(Timeline,{children:events.map(event=>/*#__PURE__*/_jsxs(Timeline.Item,{children:[/*#__PURE__*/_jsx(Timeline.Dot,{children:/*#__PURE__*/_jsx(Icon,{type:event.typeIcon})}),/*#__PURE__*/_jsxs(Timeline.Item.Content,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Timestamp: \",event.timestamp]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Type: \",event.type]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Camera: \",event.camera]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",event.description]})]})]},event.id))})]});};export default EventTimeline;","map":{"version":3,"names":["React","useState","useEffect","Timeline","Button","deleteFile","downloadFile","getCameraList","getPresignedUrl","getVideoList","listFiles","uploadFile","jsx","_jsx","jsxs","_jsxs","EventTimeline","_ref","onEventSelect","initialTimeRange","events","setEvents","loading","setLoading","error","setError","filters","setFilters","timeRange","camera","eventType","fetchEvents","fetchedEvents","cloudStorage","getEvents","handleEventClick","event","children","message","map","Item","Dot","Icon","type","typeIcon","Content","timestamp","description","id"],"sources":["/workspace/cloud-storage-web-ui/src/components/EventTimeline.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Timeline } from 'antd';\nimport { Button } from 'antd';\nimport {deleteFile, downloadFile, getCameraList, getPresignedUrl, getVideoList, listFiles, uploadFile} from '../utils/cloudStorage'; // Assuming imported functions\n\nconst EventTimeline = ({ onEventSelect, initialTimeRange }) => {\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filters, setFilters] = useState({\n    timeRange: initialTimeRange,\n    camera: null,\n    eventType: null,\n  });\n\n  useEffect(() => {\n    async function fetchEvents() {\n      try {\n        const fetchedEvents = await cloudStorage.getEvents(filters);\n        setEvents(fetchedEvents);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchEvents();\n  }, [filters]);\n\n  const handleEventClick = (event) => {\n    onEventSelect(event);\n  };\n\n  // ... filtering logic and UI elements ...\n\n  return (\n    <div>\n      {loading && <p>Loading events...</p>}\n      {error && <p>Error fetching events: {error.message}</p>}\n      {!loading && !error && (\n        <Timeline>\n          {events.map((event) => (\n            <Timeline.Item key={event.id}>\n              <Timeline.Dot>\n                <Icon type={event.typeIcon} />\n              </Timeline.Dot>\n              <Timeline.Item.Content>\n                <p>Timestamp: {event.timestamp}</p>\n                <p>Type: {event.type}</p>\n                <p>Camera: {event.camera}</p>\n                <p>Description: {event.description}</p>\n                {/* Thumbnail, additional details, etc. */}\n              </Timeline.Item.Content>\n            </Timeline.Item>\n          ))}\n        </Timeline>\n      )}\n    </div>\n  );\n};\n\nexport default EventTimeline;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,MAAM,CAC/B,OAASC,MAAM,KAAQ,MAAM,CAC7B,OAAQC,UAAU,CAAEC,YAAY,CAAEC,aAAa,CAAEC,eAAe,CAAEC,YAAY,CAAEC,SAAS,CAAEC,UAAU,KAAO,uBAAuB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErI,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAAyC,IAAxC,CAAEC,aAAa,CAAEC,gBAAiB,CAAC,CAAAF,IAAA,CACxD,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACuB,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACyB,OAAO,CAAEC,UAAU,CAAC,CAAG1B,QAAQ,CAAC,CACrC2B,SAAS,CAAET,gBAAgB,CAC3BU,MAAM,CAAE,IAAI,CACZC,SAAS,CAAE,IACb,CAAC,CAAC,CAEF5B,SAAS,CAAC,IAAM,CACd,cAAe,CAAA6B,WAAWA,CAAA,CAAG,CAC3B,GAAI,CACF,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAC,YAAY,CAACC,SAAS,CAACR,OAAO,CAAC,CAC3DL,SAAS,CAACW,aAAa,CAAC,CAC1B,CAAE,MAAOR,KAAK,CAAE,CACdC,QAAQ,CAACD,KAAK,CAAC,CACjB,CAAC,OAAS,CACRD,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CACAQ,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACL,OAAO,CAAC,CAAC,CAEb,KAAM,CAAAS,gBAAgB,CAAIC,KAAK,EAAK,CAClClB,aAAa,CAACkB,KAAK,CAAC,CACtB,CAAC,CAED;AAEA,mBACErB,KAAA,QAAAsB,QAAA,EACGf,OAAO,eAAIT,IAAA,MAAAwB,QAAA,CAAG,mBAAiB,CAAG,CAAC,CACnCb,KAAK,eAAIT,KAAA,MAAAsB,QAAA,EAAG,yBAAuB,CAACb,KAAK,CAACc,OAAO,EAAI,CAAC,CACtD,CAAChB,OAAO,EAAI,CAACE,KAAK,eACjBX,IAAA,CAACV,QAAQ,EAAAkC,QAAA,CACNjB,MAAM,CAACmB,GAAG,CAAEH,KAAK,eAChBrB,KAAA,CAACZ,QAAQ,CAACqC,IAAI,EAAAH,QAAA,eACZxB,IAAA,CAACV,QAAQ,CAACsC,GAAG,EAAAJ,QAAA,cACXxB,IAAA,CAAC6B,IAAI,EAACC,IAAI,CAAEP,KAAK,CAACQ,QAAS,CAAE,CAAC,CAClB,CAAC,cACf7B,KAAA,CAACZ,QAAQ,CAACqC,IAAI,CAACK,OAAO,EAAAR,QAAA,eACpBtB,KAAA,MAAAsB,QAAA,EAAG,aAAW,CAACD,KAAK,CAACU,SAAS,EAAI,CAAC,cACnC/B,KAAA,MAAAsB,QAAA,EAAG,QAAM,CAACD,KAAK,CAACO,IAAI,EAAI,CAAC,cACzB5B,KAAA,MAAAsB,QAAA,EAAG,UAAQ,CAACD,KAAK,CAACP,MAAM,EAAI,CAAC,cAC7Bd,KAAA,MAAAsB,QAAA,EAAG,eAAa,CAACD,KAAK,CAACW,WAAW,EAAI,CAAC,EAElB,CAAC,GAVNX,KAAK,CAACY,EAWX,CAChB,CAAC,CACM,CACX,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}