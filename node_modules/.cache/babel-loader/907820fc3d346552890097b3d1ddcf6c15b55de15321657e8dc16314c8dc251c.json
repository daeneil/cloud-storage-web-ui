{"ast":null,"code":"var _jsxFileName = \"/workspace/cloud-storage-web-ui/src/components/VideoSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Pagination, Select, Input } from 'antd'; // Example UI components\nimport { deleteFile, downloadFile, getCameraList, getPresignedUrl, getVideoList, listFiles, uploadFile } from '../utils/cloudStorage'; // Assuming imported functions\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst VideoSearch = ({\n  onVideoSelect\n}) => {\n  _s();\n  const [query, setQuery] = useState({\n    cameraName: '',\n    keywords: '',\n    page: 1,\n    pageSize: 10\n  });\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const handleSearch = async () => {\n    setLoading(true);\n    try {\n      const videos = await cloudStorage.searchVideos(query);\n      setResults(videos);\n    } catch (error) {\n      console.error('Search error:', error);\n      // Handle error gracefully, e.g., display error message\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePageChange = async pageNumber => {\n    query.page = pageNumber;\n    await handleSearch();\n  };\n  const handleCameraChange = value => {\n    query.cameraName = value;\n  };\n\n  // ... other event handlers for keywords, refinement, selection ...\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Search Videos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        placeholder: \"Select Camera\",\n        value: query.cameraName,\n        onChange: handleCameraChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input.Search, {\n        placeholder: \"Enter Keywords\",\n        value: query.keywords,\n        onChange: e => setQuery({\n          ...query,\n          keywords: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearch,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 19\n    }, this), !loading && results.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        current: query.page,\n        total: Math.ceil(results.length / query.pageSize),\n        onChange: handlePageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, void 0, false), !loading && results.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No results found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 44\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoSearch, \"p7pysCJCpibYDko6mHmamkNMhBA=\");\n_c = VideoSearch;\nexport default VideoSearch;\nvar _c;\n$RefreshReg$(_c, \"VideoSearch\");","map":{"version":3,"names":["React","useState","useEffect","Pagination","Select","Input","deleteFile","downloadFile","getCameraList","getPresignedUrl","getVideoList","listFiles","uploadFile","jsxDEV","_jsxDEV","Fragment","_Fragment","VideoSearch","onVideoSelect","_s","query","setQuery","cameraName","keywords","page","pageSize","results","setResults","loading","setLoading","handleSearch","videos","cloudStorage","searchVideos","error","console","handlePageChange","pageNumber","handleCameraChange","value","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","Search","e","target","onClick","length","current","total","Math","ceil","_c","$RefreshReg$"],"sources":["/workspace/cloud-storage-web-ui/src/components/VideoSearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Pagination, Select, Input } from 'antd'; // Example UI components\nimport {deleteFile, downloadFile, getCameraList, getPresignedUrl, getVideoList, listFiles, uploadFile} from '../utils/cloudStorage'; // Assuming imported functions\n\nconst VideoSearch = ({ onVideoSelect }) => {\n  const [query, setQuery] = useState({\n    cameraName: '',\n    keywords: '',\n    page: 1,\n    pageSize: 10,\n  });\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const handleSearch = async () => {\n    setLoading(true);\n    try {\n      const videos = await cloudStorage.searchVideos(query);\n      setResults(videos);\n    } catch (error) {\n      console.error('Search error:', error);\n      // Handle error gracefully, e.g., display error message\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePageChange = async (pageNumber) => {\n    query.page = pageNumber;\n    await handleSearch();\n  };\n\n  const handleCameraChange = (value) => {\n    query.cameraName = value;\n  };\n\n  // ... other event handlers for keywords, refinement, selection ...\n\n  return (\n    <div>\n      <h2>Search Videos</h2>\n      <div>\n        <Select placeholder=\"Select Camera\" value={query.cameraName} onChange={handleCameraChange}>\n          {/* Populate camera options from cloudStorage.getCameraList() */}\n        </Select>\n        <Input.Search placeholder=\"Enter Keywords\" value={query.keywords} onChange={(e) => setQuery({ ...query, keywords: e.target.value })} />\n        <button onClick={handleSearch}>Search</button>\n      </div>\n      {loading && <p>Loading...</p>}\n      {!loading && results.length > 0 && (\n        <>\n          {/* Display results as a list or grid, with thumbnails and metadata */}\n          <Pagination current={query.page} total={Math.ceil(results.length / query.pageSize)} onChange={handlePageChange} />\n        </>\n      )}\n      {!loading && results.length === 0 && <p>No results found.</p>}\n    </div>\n  );\n};\n\nexport default VideoSearch;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}